}
for(i in 2:length(colNames)){
monthly[,i] = as.numeric(gsub(",", "", monthly[,i]))
}
monthly
View(monthly)
monthly[,1] = as.Date(monthly[,1],"%m-%Y")
monthly[,1]
monthly = read.table(file = "~/Downloads/data_reports_monthly_indicators_yellow.csv",
header = T,sep = ",")
monthly[,1]
as.Date(monthly[,1],"%m-%Y")
as.Date(monthly[,1],"%D-%Y")
as.Date(monthly[,1],"%d-%Y")
as.Date("aug-10","%d-%y")
as.Date("aug2010","%B%Y")
as.Date("Aug2010","%B%Y")
as.Date("Aug2010","%b%Y")
as.Date("6aug2005","%D%b%Y")
as.Date("6aug2005","%D%B%Y")
sdate1 <- "6aug2005"
sdate1 <- "6aug2005"
sdate1
as.Date(sdate1, "%d%B%Y")
monthly[,1]
as.Date(monthly[,1],"%B-%Y")
as.Date(monthly[,1],"%B-%y")
sdate1 <- "6aug-2005"
as.Date(sdate1, "%d%B-%Y")
sdate1 <- "6aug-05"
as.Date(sdate1, "%d%B-%y")
as.Date(monthly[1,1],"%B-%y")
monthly[1,1]
as.Date(as.character(monthly[1,1]),"%B-%y")
as.Date(sdate1, "%d%b-%y")
sdate1 <- "6august-05"
as.Date(sdate1, "%d%b-%y")
sdate1 <- "august-05"
as.Date(sdate1, "%b-%y")
sdate1 <- "01august-05"
as.Date(sdate1, "%d%b-%y")
sdate1 <- "01august-05"
as.Date(sdate1, "%d%b-%y")
"01",as.character(monthly[,1])
paste(c("01"),as.character(monthly[,1])
)
as.Date(paste(c("01"),as.character(monthly[,1]),sep = ""),"%d%B-%y")
colNames = names(monthly)
colNames
monthly[,1]
monthly[,1] = as.Date(paste(c("01"),as.character(monthly[,1]),sep = ""),"%d%B-%y")
monthly[,1]
View(monthly)
as.numeric(gsub("%", "", monthly[,length(colNames)]))
monthly[,length(colNames)] = as.numeric(gsub("%", "", monthly[,length(colNames)]))
attach(monthly)
plot(names(monthly))
names(monthly)
plot(Month.Year,Percent.of.Trips.Paid.with.Credit.Card)
plot(Month.Year,Percent.of.Trips.Paid.with.Credit.Card,type = 1)
plot(Month.Year,Percent.of.Trips.Paid.with.Credit.Card,type = 'l')
ylim = c(0,100))
plot(Month.Year,Percent.of.Trips.Paid.with.Credit.Card,type = 'l',
ylim = c(0,100))
plot(Month.Year,Percent.of.Trips.Paid.with.Credit.Card,type = 'l')
plot(monthly)
View(monthly)
plot(Month.Year,Unique.Drivers)
Unique.Drivers
for(i in 2:length(colNames)-1){
monthly[,i] = as.numeric(gsub(",", "", monthly[,i]))
}
detach()
search()
attach(monthly)
plot(Month.Year,Percent.of.Trips.Paid.with.Credit.Card,type = 'l')
Month.Year
length(colNames)-1
monthly
View(monthly)
monthly = read.table(file = "~/Downloads/data_reports_monthly_indicators_yellow.csv",
header = T,sep = ",")
attributes(monthly)
head(monthly$Month.Year)
apply(monthly,2,class)
class(monthly$Trips.Per.Day)
colClasses = c("character","integer","integer","integer","integer","integer",
"numeric","numeric","numeric","numeric","numeric","numeric")
colNames = names(monthly)
monthly[,1] = as.Date(paste(c("01"),as.character(monthly[,1]),sep = ""),"%d%B-%y")
for(i in 2:length(colNames)-1){
monthly[,i] = as.numeric(gsub(",", "", monthly[,i]))
}
monthly[,length(colNames)] = as.numeric(gsub("%", "", monthly[,length(colNames)]))
View(monthly)
######################################################
monthly = read.table(file = "~/Downloads/data_reports_monthly_indicators_yellow.csv",
header = T,sep = ",")
attributes(monthly)
head(monthly$Month.Year)
apply(monthly,2,class)
class(monthly$Trips.Per.Day)
colClasses = c("character","integer","integer","integer","integer","integer",
"numeric","numeric","numeric","numeric","numeric","numeric")
colNames = names(monthly)
monthly[,1]
as.Date(paste(c("01"),as.character(monthly[,1]),sep = ""),"%d%B-%y")
monthly[,1] = as.Date(paste(c("01"),as.character(monthly[,1]),sep = ""),"%d%B-%y")
monthly[,1]
for(i in 2:(length(colNames)-1)){
monthly[,i] = as.numeric(gsub(",", "", monthly[,i]))
}
monthly[,length(colNames)] = as.numeric(gsub("%", "", monthly[,length(colNames)]))
search()
detach(monthly)
search()
attach(monthly)
plot(Month.Year,Percent.of.Trips.Paid.with.Credit.Card,type = 'l')
plot(monthly)
plot(Month.Year,Unique.Drivers)
plot(Month.Year,Unique.Drivers/Unique.Medallions)
plot(Month.Year,Unique.Drivers/Unique.Medallions,'l')
plot(Month.Year, Unique.Medallions, 'l')
abline(h=13605)
abline(v="2014-03-14")
abline(v=10000)
as.numeric(as.Date("2014-03-14"))
abline(v=16143)
plot(Month.Year, Trips.Per.Day, 'l')
plot(Month.Year, Farebox.Per.Day, 'l')
plot(Month.Year, Farebox.Per.Day/Trips.Per.Day, 'l')
plot(Month.Year, Avg.Minutes.Per.Trip, 'l')
plot(Month.Year, Avg.Hours.Per.Day.Per.Driver*Unique.Drivers, 'l')
plot(Month.Year, Avg.Hours.Per.Day.Per.Medallion, 'l')
plot(Month.Year, Avg.Hours.Per.Day.Per.Medallion/(Avg.Hours.Per.Day.Per.Driver*Unique.Drivers), 'l')
plot(Month.Year, Avg.Hours.Per.Day.Per.Medallion*Unique.Medallions/(Avg.Hours.Per.Day.Per.Driver*Unique.Drivers), 'l')
plot(Month.Year, Avg.Hours.Per.Day.Per.Medallion*Unique.Medallions, 'l')
lines(Month.Year, Avg.Hours.Per.Day.Per.Driver*Unique.Drivers)
abline(as.numeric(as.Date(2012-09-01)))
abline(v=as.numeric(as.Date(2012-09-01)))
abline(v=as.numeric(as.Date("2012-09-01")))
plot(Month.Year, Avg.Hours.Per.Day.Per.Driver, 'l')
abline(v=as.numeric(as.Date("2012-09-01")))
plot(Month.Year, Avg.Hours.Per.Day.Per.Medallion, 'l')
View(monthly)
plot(Month.Year, Trips.Per.Day, 'l',ylim = c(0,max(Trips.Per.Day)))
plot(Month.Year, Farebox.Per.Day, 'l',ylim = c(0,max(Farebox.Per.Day)))
plot(Month.Year, Farebox.Per.Day/Trips.Per.Day, 'l')
abline(v=as.numeric(as.Date("2015-01-01")))
plot(Month.Year, Avg.Hours.Per.Day.Per.Driver, 'l')
abline(v=as.numeric(as.Date("2012-09-01")))
abline(v=as.numeric(as.Date("2015-01-01")))
plot(Month.Year, Avg.Minutes.Per.Trip, 'l')
plot(Month.Year, Avg.Hours.Per.Day.Per.Medallion, 'l')
plot(Month.Year, Avg.Hours.Per.Day.Per.Driver, 'l',ylim = c(0,max(Avg.Hours.Per.Day.Per.Driver)))
abline(v=as.numeric(as.Date("2012-09-01")))
abline(v=as.numeric(as.Date("2015-01-01")))
plot(Month.Year, Avg.Minutes.Per.Trip, 'l',ylim = c(0,max(Avg.Minutes.Per.Trip)))
plot(Month.Year, Avg.Minutes.Per.Trip, 'l',ylim = c(0,max(Avg.Minutes.Per.Trip,na.rm = T)))
plot(Month.Year, Avg.Hours.Per.Day.Per.Medallion, 'l')
plot(Month.Year, Avg.Hours.Per.Day.Per.Medallion, 'l',ylim=c(0,max(Avg.Hours.Per.Day.Per.Medallion)))
plot(Month.Year, Unique.Drivers/Unique.Medallions, 'l')
plot(Month.Year, Unique.Drivers/Unique.Medallions, 'l',ylim=c(0,3))
plot(Month.Year, Unique.Drivers/Unique.Medallions, 'l',ylim=c(0,2.5))
plot(Month.Year, Unique.Drivers/Unique.Medallions, 'l',ylim=c(1.5,2.5))
plot(Month.Year, Unique.Drivers/Unique.Medallions, 'l',ylim=c(2,2.5))
plot(Month.Year, Unique.Drivers/Unique.Medallions, 'l',ylim=c(2,2.6))
plot(Month.Year, Unique.Medallions, 'l')
plot(Month.Year, Unique.Medallions, 'l',ylim=c(0,max(Unique.Medallions)))
plot(Month.Year, Unique.Medallions, 'l')
monthly = read.csv(file = "~/Downloads/yellow_tripdata_2015-12.csv")
Dec1st = read.csv(file = "~/Downloads/green_tripdata_2015-12.csv", nrows = 1000)
tail(Dec1st)
head(Dec1st)
Dec1st = read.csv(file = "~/Downloads/green_tripdata_2015-12.csv", nrows = 10000)
head(Dec1st)
tail(Dec1st)
Dec1st = read.csv(file = "~/Downloads/green_tripdata_2015-12.csv", nrows = 30000)
tail(Dec1st)
Dec1st = read.csv(file = "~/Downloads/green_tripdata_2015-12.csv", nrows = 50000)
tail(Dec1st)
Dec1st = read.csv(file = "~/Downloads/green_tripdata_2015-12.csv", nrows = 40000)
tail(Dec1st)
installed.packages("ggmap")
install.packages("ggmap")
longlat = as.numeric(geocode("university of michigan"))
library(ggmap)
longlat = as.numeric(geocode("university of michigan"))
longlat
res = revgeocode(longlat,output = "more")
res
resless = revgeocode(longlat)
resless
?revgeocode
Dec1st = read.csv(file = "~/Downloads/green_tripdata_2015-12.csv", nrows = 45000)
tail(Dec1st)
Dec1st = read.csv(file = "~/Downloads/green_tripdata_2015-12.csv", nrows = 46000)
tail(Dec1st)
longlat = as.numeric(geocode("queens jamaica"))
longlat
plot(Dec1st$Pickup_longitude,Dec1st$Pickup_latitude)
Dec1st = Dec1st[Dec1st$Pickup_latitude>0,]
plot(Dec1st$Pickup_longitude,Dec1st$Pickup_latitude)
Dec1st = read.csv(file = "~/Downloads/yellow_tripdata_2015-12.csv", nrows = 46000)
tail(Dec1st)
Dec1st = read.csv(file = "~/Downloads/yellow_tripdata_2015-12.csv", nrows = 60000)
tail(Dec1st)
head(Dec1st)
Dec1st = read.csv(file = "~/Downloads/yellow_tripdata_2015-12.csv", nrows = 30000)
tail(Dec1st)
Dec1st = read.csv(file = "~/Downloads/yellow_tripdata_2015-12.csv", nrows = 20000)
tail(Dec1st)
Dec1st = read.csv(file = "~/Downloads/yellow_tripdata_2015-12.csv", nrows = 2000)
tail(Dec1st)
Dec1st = read.csv(file = "~/Downloads/yellow_tripdata_2015-12.csv", nrows = 200)
tail(Dec1st)
Dec1st = read.csv(file = "~/Downloads/yellow_tripdata_2015-12.csv", nrows = 200000)
tail(Dec1st)
Dec1st = Dec1st[Dec1st$Pickup_latitude>0,]
plot(Dec1st$Pickup_longitude,Dec1st$Pickup_latitude,pch='.')
plot(Dec1st$Pickup_longitude,Dec1st$Pickup_latitude,
xlim=c(-74.1,-73.88),ylim=c(40.7,40.83),pch='.')
summary(Dec1st$Pickup_latitude)
Dec1st = read.csv(file = "~/Downloads/yellow_tripdata_2015-12.csv", nrows = 200000)
tail(Dec1st)
Dec1st = Dec1st[Dec1st$Pickup_latitude>0,]
Dec1st = read.csv(file = "~/Downloads/yellow_tripdata_2015-12.csv", nrows = 200000)
tail(Dec1st)
summary(Dec1st$Pickup_latitude)
summary(Dec1st$pickup_latitude)
Dec1st = Dec1st[Dec1st$pickup_latitude>0,]
plot(Dec1st$pickup_longitude,Dec1st$pickup_latitude,
xlim=c(-74.1,-73.88),ylim=c(40.7,40.83),pch='.')
plot(Dec1st$pickup_longitude,Dec1st$pickup_latitude,
xlim=c(-74.03,-73.88),ylim=c(40.6,40.83),pch='.')
plot(Dec1st$pickup_longitude,Dec1st$pickup_latitude,
xlim=c(-74.03,-73.88),ylim=c(40.6,40.83),pch='.',alpha=0.2)
plot(Dec1st$pickup_longitude,Dec1st$pickup_latitude,
xlim=c(-74.03,-73.77),ylim=c(40.61,40.91),pch='.',alpha=0.2)
abline(h=seq(-74.05,-73.75,by=0.05))
seq(-74.05,-73.75,by=0.05)
warnings()
abline(h=seq(-74.05,-73.75,by=0.05))
abline(v=seq(-74.05,-73.75,by=0.05))
warnings()
warnings()
warnings()
warnings()
abline(v=seq(-74.05,-73.75,by=0.05))
plot(Dec1st$pickup_longitude,Dec1st$pickup_latitude,
xlim=c(-74.03,-73.77),ylim=c(40.61,40.91),pch='.',col=rgb(1,1,1,0.1))
warnings()
warnings()
warnings()
warnings()
warnings()
warnings()
warnings()
warnings()
warnings()
plot(Dec1st$pickup_longitude,Dec1st$pickup_latitude,
xlim=c(-74.03,-73.77),ylim=c(40.61,40.91),pch='.',col=rgb(1,1,1,0.1))
par(bg="black")
plot(Dec1st$pickup_longitude,Dec1st$pickup_latitude,
xlim=c(-74.03,-73.77),ylim=c(40.61,40.91),pch='.',col=rgb(1,1,1,0.1))
par(bg="white")
plot(Dec1st$pickup_longitude,Dec1st$pickup_latitude,
xlim=c(-74.03,-73.77),ylim=c(40.61,40.91),pch='.',col=rgb(0,0,0,0.01))
par(margin(0,0,0,0))
par(margin(0,0,0,0))
par(margin=c(0,0,0,0))
par(mar=c(0,0,0,0))
plot(Dec1st$pickup_longitude,Dec1st$pickup_latitude,
xlim=c(-74.03,-73.77),ylim=c(40.61,40.91),pch='.',col=rgb(0,0,0,0.01))
par(mar=c(0,0,0,0))
plot(Dec1st$pickup_longitude,Dec1st$pickup_latitude,
xlim=c(-74.03,-73.77),ylim=c(40.61,40.91),pch='.',col=rgb(0,0,0,0.01))
Dec1st = read.csv(file = "~/Downloads/yellow_tripdata_2015-12.csv", nrows = 1000000)
tail(Dec1st)
summary(Dec1st$pickup_latitude)
Dec1st = Dec1st[Dec1st$pickup_latitude>0,]
summary(Dec1st$pickup_latitude)
plot(Dec1st$pickup_longitude,Dec1st$pickup_latitude,
xlim=c(-74.03,-73.77),ylim=c(40.61,40.91),pch='.',col=rgb(0,0,0,0.01))
par(mar=c(0,0,0,0))
par(mar=c(0,0,0,0))
plot(Dec1st$pickup_longitude,Dec1st$pickup_latitude,
xlim=c(-74.03,-73.77),ylim=c(40.61,40.91),pch='.',col=rgb(0,0,0,0.05))
Dec1st = read.csv(file = "~/Downloads/yellow_tripdata_2015-12.csv", nrows = 3000000)
tail(Dec1st)
summary(Dec1st$pickup_latitude)
Dec1st = Dec1st[Dec1st$pickup_latitude>0,]
par(mar=c(0,0,0,0))
plot(Dec1st$pickup_longitude,Dec1st$pickup_latitude,
xlim=c(-74.03,-73.77),ylim=c(40.61,40.91),pch='.',col=rgb(0,0,0,0.05))
######################################################
monthly = read.table(file = "~/Downloads/data_reports_monthly_indicators_yellow.csv",
header = T,sep = ",")
attributes(monthly)
head(monthly$Month.Year)
apply(monthly,2,class)
class(monthly$Trips.Per.Day)
colClasses = c("character","integer","integer","integer","integer","integer",
"numeric","numeric","numeric","numeric","numeric","numeric")
colNames = names(monthly)
monthly[,1] = as.Date(paste(c("01"),as.character(monthly[,1]),sep = ""),"%d%B-%y")
for(i in 2:(length(colNames)-1)){
monthly[,i] = as.numeric(gsub(",", "", monthly[,i]))
}
monthly[,length(colNames)] = as.numeric(gsub("%", "", monthly[,length(colNames)]))
#####################################################
attach(monthly)
### master plot
plot(monthly)
### A steady increase in the percentage paid with credit cards
plot(Month.Year,Percent.of.Trips.Paid.with.Credit.Card,type = 'l')
### Decline in trips per day from 2013, accelerating
plot(Month.Year, Trips.Per.Day, 'l',ylim = c(0,max(Trips.Per.Day)))
### Seems like hump shape, suspect jump in 2012, declining since 2014, accelerating
plot(Month.Year, Farebox.Per.Day, 'l',ylim = c(0,max(Farebox.Per.Day)))
### Found a price hike in Sep 2012, price rise on average by 17%.
# Another hike in 2015 increase fares by $0.30 for handicap accessibility
plot(Month.Year, Farebox.Per.Day/Trips.Per.Day, 'l')
colNames
plot(Month.Year, Avg.Hours.Per.Day.Per.Driver, 'l',ylim = c(0,max(Avg.Hours.Per.Day.Per.Driver)))
plot(Month.Year, Avg.Minutes.Per.Trip, 'l',ylim = c(0,max(Avg.Minutes.Per.Trip,na.rm = T)))
plot(Month.Year, Avg.Hours.Per.Day.Per.Medallion, 'l',ylim=c(0,max(Avg.Hours.Per.Day.Per.Medallion)))
plot(Month.Year, Avg.Hours.Per.Day.Per.Medallion*Unique.Medallions, 'l')
lines(Month.Year, Avg.Hours.Per.Day.Per.Driver*Unique.Drivers)
### Increase, then decrease in driver per medallion
plot(Month.Year, Unique.Drivers/Unique.Medallions, 'l',ylim=c(2,2.6))
plot(Month.Year, Unique.Medallions, 'l')
# Make clean
```
test = 1:10
preint test
print test
print(test)
source('lab1.R')
ls()
ped()
pwd()
getwd()
setwd('Teaching/Stats406/R_scripts/')
source('lab1.R')
proc.time()
proc.time()
proc.time()
proc.time()
proc.time()
proc.time()
proc.time();test = 1:10
?proc.time
??t_test
??general linear model
??linearmodel
??distribution
getwd()
setwd("/home/gaozheng/Teaching/Stats406/R_scripts")
getwd()
setwd("/home/gaozheng/Teaching/Stats406/R_scripts")
test = 1:10
print(test)
x = 1:10
print(x)
ls()
rm(ls())
rm(list=ls())
?rm
??rm
??remove
y = x^2
x = 1:10
print(x)
y
y = x^2
y
x = 1:10
print(x)
y = x^2
y
plot(x,y)
ls()
rm(list='y')
ls()
plot(x,y,type = 'l')
y = x^2
plot(x,y,type = 'l')
plot(x,y,type = 'l',col = 'red')
test = c(1,a,T,2.3)
test = c(1,'a word',T,2.3)
test
print(test)
x = 1:10
y = x^2
y
rm(list='test')
c = 3
a = c(1,2,c)
a
f = function(x){
x^2-2*x+1
}
f(x)
f(test)
f = function(x){
return x^2-2*x+1
}
f = function(x){
return x^2-2*x+1
}
f = function(x){
return (x^2-2*x+1)
}
f(x)
f(test)
f('test')
x = seq(1,10,1)
x
?seq
x = seq(from = 1, to = 10, by = 1);x
test = c(1,'a word',T,2.3)
# print a vector (works inside functions)
print(test)
test = c(1,'A',T,2.3)
print(test)
typeof(test)
typeof(1)
typeof(2.3)
typeof(T)
plot(x,y)
plot(x,y,type = 'l',col = 'red', xlim = c())
plot(x,y,type = 'l',col = 'red', xlim = c(0,12))
plot(x,y,type = 'l',col = 'red', xlim = c(0,11))
x
f(x)
f(x<-2:5)
x
f(x=1:5)
x
c(1,"A")
c(1,"A")[1]
c(1,"A")[2]
vector1 = c(1,'A',T,2.3)
vector1[1:3]
vector1[c(1:3)]
list1[1:3]
list1 <- list(c(2,5,3),21.3,sin)
list1
list1[1]
list1[1]
list1[[1]]
list1[1][1]
list1[1][1][1]
list1[[1]]
getwd()
class(list1[1])
class(vector[1])
class(vector1[1])
class(vector1)
list1[[1]]
class(list1[[1]])
vector1
x
M = matrix( c(4,2,6,3,7,1), nrow = 2, ncol = 3, byrow = TRUE)
print(M)
M[2,c(1,3)]
M%*%c(1,2,3)
M%*%M'
M%*%t(M)
index = c(T,F,T,F)
vector1[index]
index = c(T,F,F,T)
vector1[index]
vector1[c(T,F,F)]
M = matrix(1:5, nrow = 2, ncol = 3, byrow = TRUE)
M = matrix(1:3, nrow = 2, ncol = 3, byrow = TRUE)
print(M)
M = matrix(1:5, nrow = 2, ncol = 3, byrow = TRUE)
print(M)
M = matrix(1:3, nrow = 2, ncol = 3, byrow = TRUE)
print(M)
M = matrix(1:5, nrow = 2, ncol = 3)
print(M)
M%*%t(c(1,2,3))
M
t(c(1,2,3))
t(c(1,2,3))%*%M
t(c(1,2))%*%M
t(c(1,2))%*%M
M%*%t(c(1,2,3))
M
names(M)
names(M)<-c('1','2','3')
M
names(M)<-NULL
M
colnames(NM)
colnames(M)
colnames(M)<-c('1','2','3')
M
colnames(M) <- c('col1','col2','col3')
rownames(M) <- c('row1','row2')
M
M$col
M$col1
A1 <- (1:5)/10; A2 <- letters[1:5]; A3 <- round(sin(1:5),3);
A1
dataframe1 = data.frame (A1 , A2 , A3)
dataframe1
summary(dataframe1)
dataframe1 = data.frame(col1 , col2 , col3)
